<!DOCTYPE html>
<html lang="mg">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Chat Search</title>
<style>
    body {
        font-family: Arial, sans-serif;
        background: #f0f2f5;
        margin: 0;
        padding: 0;
    }
    header {
        background: #1877f2;
        color: white;
        padding: 15px;
        font-size: 20px;
        text-align: center;
        box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    .search-box {
        display: flex;
        padding: 10px;
        background: white;
    }
    .search-box input {
        flex: 1;
        padding: 8px 12px;
        border: 1px solid #ccc;
        border-radius: 20px;
        outline: none;
    }
    .user-list {
        padding: 10px;
    }
    .user-card {
        background: white;
        display: flex;
        align-items: center;
        padding: 10px;
        border-radius: 10px;
        margin-bottom: 10px;
        box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        cursor: pointer;
        transform: scale(0.95);
        transition: all 0.3s ease;
    }
    .user-card:hover {
        transform: scale(1);
        box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }
    .user-card img {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        margin-right: 15px;
    }
    .user-info {
        flex: 1;
    }
    .user-info h3 {
        margin: 0;
        font-size: 16px;
        color: #333;
    }
    .user-info p {
        margin: 3px 0 0;
        font-size: 14px;
        color: gray;
    }
    /* Modal */
    .modal {
        position: fixed;
        top: 0; left: 0;
        width: 100%; height: 100%;
        background: rgba(0,0,0,0.5);
        display: none;
        justify-content: center;
        align-items: center;
        animation: fadeIn 0.3s ease;
    }
    .modal-content {
        background: white;
        padding: 20px;
        border-radius: 15px;
        width: 90%;
        max-width: 350px;
        text-align: center;
        animation: slideUp 0.3s ease;
    }
    .modal-content img {
        width: 80px;
        height: 80px;
        border-radius: 50%;
        margin-bottom: 10px;
    }
    @keyframes fadeIn {
        from {opacity: 0;}
        to {opacity: 1;}
    }
    @keyframes slideUp {
        from {transform: translateY(50px); opacity: 0;}
        to {transform: translateY(0); opacity: 1;}
    }
</style>
</head>
<body>

<header>Chat Search</header>

<div class="search-box">
    <input type="text" id="searchInput" placeholder="Karohy amin'ny anarana...">
</div>

<div class="user-list" id="userList">
    <!-- Users will be loaded here -->
</div>

<!-- Modal -->
<div class="modal" id="userModal">
    <div class="modal-content" id="modalContent">
        <img src="" id="modalImg" alt="Profile">
        <h3 id="modalName"></h3>
        <p id="modalEmail"></p>
        <p>ID: <span id="modalId"></span></p>
        <button onclick="closeModal()">Hidio</button>
    </div>
</div>

<script>
    const users = [
        {id: "101", name: "Andry Rakoto", email: "andry@example.com", img: "https://i.pravatar.cc/150?img=1"},
        {id: "102", name: "Fara Andri", email: "fara@example.com", img: "https://i.pravatar.cc/150?img=2"},
        {id: "103", name: "Tiana Raz", email: "tiana@example.com", img: "https://i.pravatar.cc/150?img=3"},
        {id: "104", name: "Joel Rabe", email: "joel@example.com", img: "https://i.pravatar.cc/150?img=4"},
    ];

    const userList = document.getElementById("userList");
    const searchInput = document.getElementById("searchInput");
    const modal = document.getElementById("userModal");

    function displayUsers(list) {
        userList.innerHTML = "";
        list.forEach(user => {
            const card = document.createElement("div");
            card.className = "user-card";
            card.innerHTML = `
                <img src="${user.img}" alt="${user.name}">
                <div class="user-info">
                    <h3>${user.name}</h3>
                    <p>${user.email}</p>
                </div>
            `;
            card.onclick = () => showModal(user);
            userList.appendChild(card);
        });
    }

    function showModal(user) {
        document.getElementById("modalImg").src = user.img;
        document.getElementById("modalName").innerText = user.name;
        document.getElementById("modalEmail").innerText = user.email;
        document.getElementById("modalId").innerText = user.id;
        modal.style.display = "flex";
    }

    function closeModal() {
        modal.style.display = "none";
    }

    searchInput.addEventListener("input", () => {
        const value = searchInput.value.toLowerCase();
        const filtered = users.filter(user => user.name.toLowerCase().includes(value));
        displayUsers(filtered);
    });

    displayUsers(users);
</script>

</body>
</html>

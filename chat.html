<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Exemple Pub avec Like</title>
<style>
  body {
    font-family: Arial, sans-serif;
    max-width: 700px;
    margin: 30px auto;
    background: #f0f4ff;
    padding: 20px;
    border-radius: 8px;
  }
  h2 {
    color: #1877f2;
  }
  .pub {
    background: white;
    border-radius: 8px;
    padding: 15px;
    margin-top: 20px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    position: relative;
  }
  .pub a {
    color: #1877f2;
    text-decoration: none;
  }
  .pub a:hover {
    text-decoration: underline;
  }
  .like-btn {
    background: transparent;
    border: none;
    color: #1877f2;
    font-weight: bold;
    cursor: pointer;
    margin-top: 10px;
  }
  .liked {
    color: #e0245e; /* rouge like */
  }
  .likes-count {
    font-size: 0.9em;
    color: #555;
    margin-left: 10px;
  }
  /* Style tuto */
  .tuto {
    background: #fffbe6;
    border: 1px solid #ffda44;
    border-radius: 6px;
    padding: 10px 15px;
    margin-top: 30px;
  }
  pre {
    background: #e6f0ff;
    padding: 10px;
    border-radius: 5px;
    overflow-x: auto;
  }
</style>
</head>
<body>

<h2>Exemples de Pubs statiques</h2>

<div id="pubList">
  <!-- Pub 1 -->
  <div class="pub" id="pub1">
    <p>🎉 Super promotion: -50% sur tous les articles !</p>
    <a href="https://example.com/promo" target="_blank" rel="noopener noreferrer">Visitez notre site</a>
    <br/>
    <button class="like-btn" data-id="pub1">🤍 Like</button><span class="likes-count">0 likes</span>
  </div>

  <!-- Pub 2 -->
  <div class="pub" id="pub2">
    <p>🚀 Boostez votre productivité avec notre logiciel innovant.</p>
    <a href="https://example.com/logiciel" target="_blank" rel="noopener noreferrer">En savoir plus</a>
    <br/>
    <button class="like-btn" data-id="pub2">🤍 Like</button><span class="likes-count">0 likes</span>
  </div>

  <!-- Pub 3 -->
  <div class="pub" id="pub3">
    <p>🍔 Nouveau restaurant en ville - livraison gratuite ce week-end !</p>
    <a href="https://example.com/restaurant" target="_blank" rel="noopener noreferrer">Voir le menu</a>
    <br/>
    <button class="like-btn" data-id="pub3">🤍 Like</button><span class="likes-count">0 likes</span>
  </div>
</div>

<!-- Petit tutoriel simple -->
<div class="tuto">
  <h3>Comment créer une pub simple en HTML :</h3>
  <pre>
&lt;div class="pub"&gt;
  &lt;p&gt;Votre message publicitaire ici&lt;/p&gt;
  &lt;a href="https://votresite.com" target="_blank"&gt;Visitez notre site&lt;/a&gt;
  &lt;br/&gt;
  &lt;button class="like-btn" data-id="identifiant_unique"&gt;🤍 Like&lt;/button&gt;&lt;span class="likes-count"&gt;0 likes&lt;/span&gt;
&lt;/div&gt;
  </pre>
</div>

<script>
  // Simple gestion likes locale (sans base de données)
  // Stocker likes dans localStorage, pour persistance locale

  const likesData = JSON.parse(localStorage.getItem('likesData') || '{}');

  function updateLikesCount(pubId, count) {
    const pubDiv = document.getElementById(pubId);
    if(pubDiv){
      const countSpan = pubDiv.querySelector('.likes-count');
      if(countSpan) countSpan.textContent = count + (count !== 1 ? ' likes' : ' like');
    }
  }

  function toggleLike(pubId, btn) {
    if(likesData[pubId]){
      likesData[pubId] = false;
      btn.classList.remove('liked');
      btn.textContent = '🤍 Like';
      updateLikesCount(pubId, 0);
    } else {
      likesData[pubId] = true;
      btn.classList.add('liked');
      btn.textContent = '❤️ Like';
      updateLikesCount(pubId, 1);
    }
    localStorage.setItem('likesData', JSON.stringify(likesData));
  }

  document.querySelectorAll('.like-btn').forEach(btn => {
    const pubId = btn.getAttribute('data-id');
    if(likesData[pubId]) {
      btn.classList.add('liked');
      btn.textContent = '❤️ Like';
      updateLikesCount(pubId, 1);
    }

    btn.addEventListener('click', () => {
      toggleLike(pubId, btn);
    });
  });
</script>

</body>
</html>

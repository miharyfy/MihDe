<?php
session_start();

// Redirection si utilisateur non connecté
if (!isset($_SESSION['email'])) {
    header("Location: nextpage.php");
    exit;
}

// Récupérer les informations de session
$name = $_SESSION['name'] ?? '';
$genre = $_SESSION['genre'] ?? '';
$dob = $_SESSION['dob'] ?? '';
$referral = $_SESSION['referral'] ?? '';
$id = $_SESSION['id'] ?? '';
$email = $_SESSION['email'];
?>
<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<title>Dashboard - Profil</title>
<style>
    * { box-sizing: border-box; }
    body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #1877f2, #6ea0f8);
        margin: 0;
        min-height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 20px;
    }
    .container {
        background: white;
        width: 100%;
        max-width: 450px;
        padding: 30px 25px;
        border-radius: 20px;
        box-shadow: 0 10px 25px rgba(24, 119, 242, 0.4);
        text-align: center;
        animation: fadeIn 0.8s ease forwards;
    }
    h2 { color: #1877f2; margin-bottom: 15px; font-weight: 700; letter-spacing: 1.2px; }
    button {
        margin-top: 25px;
        width: 100%;
        padding: 15px 0;
        font-size: 18px;
        border: none;
        border-radius: 18px;
        cursor: pointer;
        background: #1877f2;
        color: white;
        font-weight: 600;
        box-shadow: 0 5px 15px #1877f2cc;
        transition: background 0.3s ease, transform 0.15s ease;
    }
    button:hover { background: #145dbf; transform: scale(1.05); }
    .profile-info {
        margin-top: 25px;
        text-align: left;
        font-size: 17px;
        color: #333;
        line-height: 1.4;
        border-top: 1px solid #cce0ff;
        padding-top: 20px;
        background: white;
        padding: 20px;
        border-radius: 15px;
        box-shadow: 0 8px 20px rgba(24, 119, 242, 0.2);
    }
    .profile-info p { margin: 8px 0; }
</style>
</head>
<body>

<div class="container">
    <h2>Profil Utilisateur</h2>

    <div class="profile-info" id="profileInfoToSave">
        <p><strong>Nom complet :</strong> <?php echo htmlspecialchars($name); ?></p>
        <p><strong>Genre :</strong> <?php echo htmlspecialchars($genre ?: '-'); ?></p>
        <p><strong>Date de naissance :</strong> <?php echo htmlspecialchars($dob ?: '-'); ?></p>
        <p><strong>Code Referral :</strong> <?php echo htmlspecialchars($referral ?: '-'); ?></p>
        <p><strong>ID :</strong> <?php echo htmlspecialchars($id); ?></p>
        <p><strong>Email :</strong> <?php echo htmlspecialchars($email); ?></p>
    </div>

    <form method="POST" action="logout.php">
        <button type="submit">Sortir</button>
    </form>
</div>

</body>
</html>
